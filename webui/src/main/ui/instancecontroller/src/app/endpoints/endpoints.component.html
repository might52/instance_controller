<div class="p-4 pt-4 shadow-sm bg-white">
  <h2 class="display-4">{{title}}</h2>
  <table class="table table-striped table-hover table-bordered bg-white">
    <caption>{{title}}</caption>
    <thead>
    <tr class="shadow-sm">
      <th scope="col">Function</th>
      <th scope="col">Flavor</th>
      <th scope="col">Image</th>
      <th scope="col">Configuration</th>
      <th scope="col">Scale ability</th>
      <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
      <tr *ngFor="let func of functions">
        <!-- Name and description -->
        <td>
          <div class="form-group form-row" *ngIf="func">
            <label
              for="functionName"
              class="col-sm-2 col-form-label col-form-label-sm">
              Name
            </label>
            <div class="col">
              <input
                type="text"
                class="form-control form-control-sm"
                id="functionName"
                placeholder="Name from DB"
                [(ngModel)]="func.function.name"
                [disabled]="func.isEnableEdit">
            </div>
          </div>
          <div class="form-group form-row" *ngIf="func">
            <label
              for="prefix"
              class="col-sm-2 col-form-label col-form-label-sm">
              Prefix
            </label>
            <div class="col">
              <input
                type="text"
                class="form-control form-control-sm"
                id="prefix"
                placeholder="Prefix from DB"
                [(ngModel)]="func.function.prefix"
                [disabled]="func.isEnableEdit">
            </div>
          </div>
          <div class="form-group form-row" *ngIf="func">
            <div class="col">
              <label
                for="description"
                class="col-form-label col-form-label-sm">
                Description
              </label>
              <textarea
                class="form-control mt-2 small-text"
                id="description"
                placeholder="Description from DB"
                [(ngModel)]="func.function.description"
                [disabled]="func.isEnableEdit"></textarea>
            </div>
          </div>
        </td>
        <!-- Flavor -->
        <td>
          <div class="form-group form-row" *ngIf="func">
            <label
              for="flavorId"
              class="col-sm-2 col-form-label col-form-label-sm">
              ID
            </label>
            <div class="col">
              <input
                type="text"
                class="form-control form-control-sm"
                id="flavorId"
                placeholder="id from DB"
                [(ngModel)]="func.function.flavor.id"
                [disabled]="func.isEnableEdit">
            </div>
          </div>
          <div class="form-group form-row" *ngIf="func">
            <label
              for="flavorLink"
              class="col-sm-2 col-form-label col-form-label-sm">
              Link
            </label>
            <div class="col">
              <input
                type="text"
                class="form-control form-control-sm small-text"
                id="flavorLink"
                placeholder="flavor href link from openstack"
                [(ngModel)]="func.function.flavor.reference"
                [disabled]="func.isEnableEdit">
            </div>
          </div>
        </td>
        <!-- Image -->
        <td>
          <div class="form-group form-row" *ngIf="func">
            <label
              for="imageId"
              class="col-sm-2 col-form-label col-form-label-sm">
              ID
            </label>
            <div class="col">
              <input
                type="text"
                class="form-control form-control-sm"
                id="imageId"
                placeholder="id from openstack"
                [(ngModel)]="func.function.image.id"
                [disabled]="func.isEnableEdit">
            </div>
          </div>
          <div class="form-group form-row" *ngIf="func">
            <label
              for="imageLink"
              class="col-sm-2 col-form-label col-form-label-sm">
              Link
            </label>
            <div class="col">
              <input
                type="text"
                class="form-control form-control-sm small-text"
                id="imageLink"
                placeholder="image href link from openstack"
                [(ngModel)]="func.function.image.reference"
                [disabled]="func.isEnableEdit">
            </div>
          </div>
        </td>
        <!-- Configuration -->
        <td>
          <div class="form-group form-row" *ngIf="func">
            <label
              for="configurationId"
              class="col-sm-2 col-form-label col-form-label-sm">
              ID
            </label>
            <div class="col">
              <input
                type="text"
                class="form-control form-control-sm small-text"
                id="configurationId"
                placeholder="id from DB"
                [(ngModel)]="func.function.configuration.id"
                [disabled]="func.isEnableEdit">
            </div>
          </div>
          <div class="form-group form-row" *ngIf="func">
            <div class="col">
              <label
                for="script"
                class="col-form-label col-form-label-sm">
                Script
              </label>
              <textarea
                class="form-control mt-2 small-text"
                id="script"
                placeholder="script from DB"
                [(ngModel)]="func.function.configuration.script"
                [disabled]="func.isEnableEdit"></textarea>
            </div>
          </div>
        </td>
        <td>
          <div class="my-1 mr-sm-2" *ngIf="func">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="scaleInAbility"
                [(ngModel)]="func.function.scaleInAbility"
                [disabled]="func.isEnableEdit" [checked]="func.function.scaleInAbility">
              <label
                class="form-check-label"
                for="scaleInAbility">
                Scale in ability
              </label>
            </div>
          </div>
          <div class="my-1 mr-sm-2" *ngIf="func">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="scaleOutAbility"
                [(ngModel)]="func.function.scaleOutAbility"
                [disabled]="func.isEnableEdit" [checked]="func.function.scaleOutAbility">
              <label
                class="form-check-label"
                for="scaleOutAbility">
                Scale out ability
              </label>
            </div>
          </div>
        </td>
        <td>
          <p class="container btn-group-vertical form-row" *ngIf="func">
            <button
              type="button"
              class="btn btn-sm btn-success"
              (click)="enableEdit(func.function.id)"
              [disabled]="!func.isEnableEdit"
            >
              Edit
            </button>
            <button
              type="button"
              class="mt-1 btn btn-sm btn-primary"
              (click)="saveChanges(func.function.id)"
              [disabled]="func.isEnableEdit"
            >
              Save
            </button>
            <button
              type="button"
              class="mt-1 btn btn-sm btn-danger"
              (click)="cancelChanges(func.function.id)"
              [disabled]="func.isEnableEdit"
            >
              Cancel
            </button>
          </p>
          <small class="ml-3 text-break text-monospace form-row" *ngIf="func">
            Function ID:
            {{ func.function.id }}
          </small>
        </td>
      </tr>
    </tbody>
  </table>
</div>
